{'_id': ObjectId('64c0125b1328ae32179e74c7'), 'name': '@dcl/crypto', 'version': '3.4.4-20230725165920.commit-5493ed1', 'description': 'Crypto auth for Decentraland', 'main': 'dist/index.js', 'typings': './dist/index.d.ts', 'scripts': {'prebuild': 'rm -rf dist', 'build': 'tsc --project tsconfig.json', 'prewatch': 'rm -rf dist', 'watch': 'tsc --watch --project tsconfig.json', 'test': 'jest --detectOpenHandles --colors --runInBand --coverage', 'lint': 'eslint . --ext .ts', 'lint:fix': 'eslint . --ext .ts --fix', 'bench': 'node ./test/benchmark.js'}, 'nyc': {'all': True, 'include': ['src'], 'extension': ['.ts'], 'reporter': ['text-summary'], 'sourceMap': True, 'instrument': True}, 'repository': {'type': 'git', 'url': 'git+https://github.com/decentraland/decentraland-crypto.git'}, 'keywords': ['decentraland'], 'author': {'name': 'Decentraland'}, 'license': 'Apache-2.0', 'bugs': {'url': 'https://github.com/decentraland/decentraland-crypto/issues'}, 'homepage': 'https://github.com/decentraland/decentraland-crypto#readme', 'dependencies': {'@dcl/schemas': '^8.2.0', 'eth-connect': '^6.0.3', 'ethereum-cryptography': '^1.0.3'}, 'devDependencies': {'@dcl/eslint-config': '^1.0.3', '@types/jest': '^28.1.6', '@types/node-fetch': '^2.6.1', 'benchmark': '^2.1.4', 'eslint': '^8.16.0', 'eth-crypto': '^2.3.0', 'jest': '^28.1.0', 'node-fetch': '^2.6.7', 'ts-jest': '^28.0.3', 'ts-node': '^10.8.0', 'typescript': '^4.7.2'}, 'prettier': {'printWidth': 80, 'singleQuote': True, 'semi': False}, 'commit': '5493ed1a65076328e86ad1550634bbbbe073ffd9', 'readme': "# DCL Auth Crypto Lib\n\n[![NPM version](https://badge.fury.io/js/dcl-crypto.svg)](https://npmjs.org/package/dcl-crypto@latest)\n[![Install Size](https://packagephobia.now.sh/badge?p=dcl-crypto@latest)](https://packagephobia.now.sh/result?p=dcl-crypto@latest)\n\n## How to Install\n\n```bash\n  npm i @dcl/crypto\n```\n\n## Create a new Identity using Ethers\n\n```typescript\nimport type { AuthChain, AuthIdentity } from 'dcl-crypto/dist/types'\nimport Authenticator from 'dcl-crypto/dist/Authenticator'\nimport { Wallet } from '@ethersproject/wallet'\nimport { Web3Provider, ExternalProvider } from '@ethersproject/providers'\n\n/**\n *\n * @params provider - any ethereum provider (e.g: window.ethereum)\n * @params expiration - ttl in seconds of the identity\n */\nexport async function createIdentity(provider: ExternalProvider, expiration: number): Promise<AuthIdentity> {\n  const signer = new Web3Provider(provider).getSigner()\n  const address = await signer.getAddress()\n\n  const wallet = Wallet.createRandom()\n  const payload = {\n    address: wallet.address,\n    privateKey: wallet.privateKey,\n    publicKey: wallet.publicKey,\n  }\n\n  const identity = await Authenticator.initializeAuthChain(\n    address,\n    payload,\n    expiration,\n    (message) => new Web3Provider(provider).getSigner().signMessage(message)\n  )\n\n  return identity\n}\n```\n\n## Create a new Identity using Web3x\n\n```typescript\nimport type { AuthChain, AuthIdentity } from 'dcl-crypto/dist/types'\nimport Authenticator from 'dcl-crypto/dist/Authenticator'\nimport { Eth } from 'web3x/eth'\nimport { Address } from 'web3x/address'\nimport { Account } from 'web3x/account'\nimport { Personal } from 'web3x/personal'\nimport { EthereumProvider } from 'web3x/providers'\nimport { bufferToHex } from 'web3x/utils/hex-buffer'\n\n/**\n *\n * @params provider - any ethereum provider (e.g: window.ethereum)\n * @params expiration - ttl in seconds of the identity\n */\nexport async function createIdentity(provider: EthereumProvider, expiration: number): Promise<AuthIdentity> {\n  const eth = new Eth(provider)\n  const addresses = await eth.getAccounts()\n\n  const provider = connection.provider\n  const account = Account.create()\n  const payload = {\n    address: account.address.toString(),\n    publicKey: bufferToHex(account.publicKey),\n    privateKey: bufferToHex(account.privateKey),\n  }\n\n  const identity = await Authenticator.initializeAuthChain(\n    addresses[0],\n    payload,\n    expiration,\n    (message) =>\n      new Personal(provider as any).sign(\n        message,\n        Address.fromString(address),\n        ''\n      )\n  )\n\n  return identity\n}\n```\n", 'readmeFilename': 'README.md', 'gitHead': '5493ed1a65076328e86ad1550634bbbbe073ffd9', '_nodeVersion': '16.20.1', '_npmVersion': '8.19.4', 'dist': {'integrity': 'sha512-VOWHG6B0ODjUl93STYTqcT1nC5IM/8sXE5ccfkJEaJXFOCoS4gf2j65iSEH3wmazd7U4ZwH0IiAgFAmhIOpgOw==', 'shasum': 'ea358bd4a0e309748c1919c01edbc5d8f68c0ea0', 'tarball': 'https://registry.npmjs.org/@dcl/crypto/-/crypto-3.4.4-20230725165920.commit-5493ed1.tgz', 'fileCount': 39, 'unpackedSize': 165432, 'signatures': [{'keyid': 'SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA', 'sig': 'MEYCIQCASN4H3/X16U/D532FUFIhs7jqO+4iny4kkeW1CuqQlwIhAM2RB3KetmEi+g0bL6QLGof7SzJlQMkRpKWDFBFlDk/i'}]}, '_npmUser': {'name': 'decentralandbot', 'email': 'developers+npm@decentraland.org'}, 'directories': {}, 'maintainers': [{'name': 'decentralandbot', 'email': 'developers+npm@decentraland.org'}], '_npmOperationalInternal': {'host': 's3://npm-registry-packages', 'tmp': 'tmp/crypto_3.4.4-20230725165920.commit-5493ed1_1690304362641_0.9527014748863059'}, '_hasShrinkwrap': False, 'time': '2023-07-25T16:59:22.868Z', 'produce_time': '2023-07-25T18:19:25.823163', 'id': '@dcl/crypto@3.4.4-20230725165920.commit-5493ed1', 'download_time': '2023-07-25T18:20:11.147450', 'storage_path': '/data/nodeJs_work/npm_all_packages/@dcl/crypto/3.4.4-20230725165920.commit-5493ed1/crypto-3.4.4-20230725165920.commit-5493ed1-ea358bd4a0e309748c1919c01edbc5d8f68c0ea0.tgz', 'TarMember': {'package/.eslintignore': {'filetype': 'text/plain', 'shasum': '024500726b0338bc6cd058d72a8ba911f248bd1f', 'md5': '2a6d07eef8b10b84129b42424ed99327'}, 'package/coverage/lcov-report/base.css': {'filetype': 'text/plain', 'shasum': '17e0e11ed35634e29a77ab7eed97993f03e69a06', 'md5': '899ea8483c28270ca7835460bdd4da33'}, 'package/coverage/lcov-report/prettify.css': {'filetype': 'text/plain', 'shasum': 'c913ae292c2060519657a2ce6d8366a09e71004b', 'md5': '31f0c9da5ac09f2563cab46ebc6e445a'}, 'package/coverage/lcov-report/index.html': {'filetype': 'text/html', 'shasum': 'a1e3a23a176596693e7d520f2b6e9f10c447da9e', 'md5': '7b9fda0af321c92317200eae7f63bc9d'}, 'package/coverage/lcov.info': {'filetype': 'text/plain', 'shasum': 'e569659befb8a37499241276c948c389e7693b6b', 'md5': '3d4ed96299a80a87078190b25d81b1cb'}, 'package/dist/Authenticator.js': {'filetype': 'text/plain', 'shasum': '2be4636a68dc3ef10643361fbe1fe979d500479d', 'md5': 'bf1264d4ab8c1e668f5ad4115d12af61'}, 'package/coverage/lcov-report/block-navigation.js': {'filetype': 'text/plain', 'shasum': '69af2888cce71c61a74d192934903ff87150d2d5', 'md5': 'e3e16775ec854aa3ef7fadd09056943c'}, 'package/dist/helper/blocks.js': {'filetype': 'text/x-c++', 'shasum': 'b33a82bb9be5ed871f0249307f4b2a43c8d05efa', 'md5': '2cc1b9037179b93dff2b766edeb88abd'}, 'package/dist/crypto.js': {'filetype': 'text/plain', 'shasum': '09f9ad882cce17c08b00a790f7e84a363c923622', 'md5': '537549341a02f097ed4ca95101e376f9'}, 'package/dist/index.js': {'filetype': 'text/plain', 'shasum': '462e0c0bdbb19c298a461dc557c75d2b3fb5e6e8', 'md5': '1f0ae56d683796b0b9ee1e3218557354'}, 'package/jest.config.js': {'filetype': 'text/plain', 'shasum': '8bec7df28074beb4d94f0d66aefb04ad0e2b86f6', 'md5': 'fcb18dc43ba67c0b96343ac20cd8b18c'}, 'package/coverage/lcov-report/prettify.js': {'filetype': 'text/plain', 'shasum': 'c5da667a2551890ac47513d4f160f478d2f565f0', 'md5': '6051903a2f7363ee232a01bd32f60b6a'}, 'package/dist/contracts/SignatureValidator.js': {'filetype': 'text/plain', 'shasum': 'db5f2fe3fe695e663d2753ab92bb64055d83ff79', 'md5': '26fb9815a9b947ad38d22f6ba2e44f67'}, 'package/coverage/lcov-report/sorter.js': {'filetype': 'text/plain', 'shasum': '4417af4be8267ab1522e1a6551bb52193b919511', 'md5': '24cab317b3dc4f1852a276d6152ac6fe'}, 'package/dist/types.js': {'filetype': 'text/plain', 'shasum': 'c54925eb15935b30e8d3e2946a86460aaef0b106', 'md5': '94435923cd2ace79d9bc698bc50ed65c'}, 'package/dist/helper/utils.js': {'filetype': 'text/plain', 'shasum': '8464a65b3310a3fa936116b17c06a956d2a24627', 'md5': '884300f4b53bf1f721cf7e085045da9e'}, 'package/.eslintrc.json': {'filetype': 'text/plain', 'shasum': '0e0c537c6cb86dca06102a864c6a69e517af824a', 'md5': '31554f163e6622d0020d068ba0779c31'}, 'package/coverage/coverage-final.json': {'filetype': 'text/plain', 'shasum': '7e632140f590876d30d9dc1f1cede49efe455290', 'md5': '2f2df0fbc55ddac479e2e53fd3cb59b0'}, 'package/package.json': {'filetype': 'text/plain', 'shasum': 'ef54d1aaf75667f2cd79613447a6c3f1088facb5', 'md5': '227b9a3c1f8ec5d9969eaa805140533e'}, 'package/dist/Authenticator.js.map': {'filetype': 'text/plain', 'shasum': 'a23c0f45b7ecc2e8de3f9c10566715c232328306', 'md5': 'a29b9ffaf3c543b48e9c1a7f9c99afb5'}, 'package/dist/helper/blocks.js.map': {'filetype': 'text/plain', 'shasum': 'b76e74b60906048e9aa1d3b11a51adca055e4961', 'md5': '5a38b6ea54125feebe6dd1e58494564c'}, 'package/dist/crypto.js.map': {'filetype': 'text/plain', 'shasum': '5e295ce15d2a0f88d6924da6197d47aee4b5f4af', 'md5': '6434d118d67a2507a9596b3b6af54a0d'}, 'package/dist/index.js.map': {'filetype': 'text/plain', 'shasum': 'e05697ad8c4bb6e301b48aeebd6d979b088cf906', 'md5': '6583353a73ace77c1090eecc300bc13c'}, 'package/dist/contracts/SignatureValidator.js.map': {'filetype': 'text/plain', 'shasum': 'c4c5703bc23efbb58f5cadf56760c2bbc8fcc65a', 'md5': '05a1bc3e8729dcdcef4cafd5c3f550f7'}, 'package/dist/types.js.map': {'filetype': 'text/plain', 'shasum': '3f4245543ede1428b51673de0e617eb73439f0ab', 'md5': '8349660f998163128f44123051f64437'}, 'package/dist/helper/utils.js.map': {'filetype': 'text/plain', 'shasum': '4214dd05e466429337bc9b272fac5009cbace838', 'md5': '2797a8f748162faa52ae4242ab76432b'}, 'package/README.md': {'filetype': 'text/plain', 'shasum': '2a5484740abd47e92f7a74222bc01fdb786806a1', 'md5': '2d4cfd28603f53f2c2be811f13e7efb0'}, 'package/coverage/lcov-report/favicon.png': {'filetype': 'image/png', 'shasum': '5ad26e9cc50a29dd96f8dfd7c3f1a50cce0b2539', 'md5': '8c814a46f24208d0bc459bb2cf8b7b88'}, 'package/coverage/lcov-report/sort-arrow-sprite.png': {'filetype': 'image/png', 'shasum': 'da5c0ef467a330913336cd9b0da5f3c900af6c3e', 'md5': 'fd08a5625d21e34b1d6d9c026f2728a9'}, 'package/dist/Authenticator.d.ts': {'filetype': 'text/plain', 'shasum': 'a2616a8d82273d9b8aafc288bb06b632608ea8de', 'md5': '955bd7d4bb879cdcb1ac7ead7af1fb4b'}, 'package/dist/helper/blocks.d.ts': {'filetype': 'text/plain', 'shasum': '6538695cfeaffd0bc87616283f11270c4542fbd3', 'md5': '7564ae15deb4435dbdab8bd2a3f9b47c'}, 'package/dist/crypto.d.ts': {'filetype': 'text/plain', 'shasum': 'd41c5621d6b444a69188e3b83c3c686d3fbeb6b3', 'md5': '66572f20bfbf13bcd2a65738de37f69a'}, 'package/dist/index.d.ts': {'filetype': 'text/plain', 'shasum': '241ff40f6f524bd2b89c889c76bcc00f427b24ba', 'md5': 'cab51a3ab30dc01423bfafd313b0865d'}, 'package/dist/contracts/SignatureValidator.d.ts': {'filetype': 'text/plain', 'shasum': 'f7cc9141485b6b464ee93e57300fe0d2a439920a', 'md5': 'bf2d9fd30f910a84efea7724e1fe64bf'}, 'package/dist/types.d.ts': {'filetype': 'text/plain', 'shasum': 'bb2308fac04d08cdc464c8f2c27db813eef28f22', 'md5': '7931a336e0a63203442d128265ee1f3f'}, 'package/dist/helper/utils.d.ts': {'filetype': 'text/plain', 'shasum': '66e781116afe83b79fe5f4ad37b76641957ab6c8', 'md5': 'e6989263ae61646253534615533325e3'}, 'package/coverage/clover.xml': {'filetype': 'application/xml', 'shasum': '6b83d5e643b65c64574f96448a8987222b0ad247', 'md5': 'b305be512df9797b1cc833fb507040f7'}, 'package/.github/workflows/ci.yml': {'filetype': 'text/plain', 'shasum': '2a44c820b360aab13acb707ac2313fddb69c9e0e', 'md5': '71696b85131ae140d733e5377cedc218'}, 'package/.github/dependabot.yml': {'filetype': 'text/plain', 'shasum': '89c16d0b45677ff20b86b655e3bfc7f1e675b2d4', 'md5': 'd9f9b768854c8e49aac3be65b39353ea'}}, 'file_count': 39, 'in_sample_lib': True, 'tarball_upload_time': '2023-07-25T18:20:14.444954', 'report_sha1': 'cf3f13c1d80554bdb9e4b03983d80cd58eb4f11f', 'sandbox_time': '2023-07-25T19:22:30.417541', 'analysis_time': '2023-07-25T19:22:31.712397', 'local_report_tar_path': '/data/nodeJs_work/npm_all_packages/@dcl/crypto/3.4.4-20230725165920.commit-5493ed1/crypto-3.4.4-20230725165920.commit-5493ed1-report-cf3f13c1d80554bdb9e4b03983d80cd58eb4f11f.tgz', 'local_sample_tar_path': '/data/nodeJs_work/npm_all_packages/@dcl/crypto/3.4.4-20230725165920.commit-5493ed1/crypto-3.4.4-20230725165920.commit-5493ed1-ea358bd4a0e309748c1919c01edbc5d8f68c0ea0.tgz', 'pkg_id': '@dcl/crypto@3.4.4-20230725165920.commit-5493ed1', 'pkg_sha1': 'ea358bd4a0e309748c1919c01edbc5d8f68c0ea0', 'report_inner_link': 'http://10.252.130.74:8071/download/report_tmp/20230726/crypto-3.4.4-20230725165920.commit-5493ed1-report-cf3f13c1d80554bdb9e4b03983d80cd58eb4f11f.tgz', 'report_upload_time': '2023-07-25T19:22:32.006074', 'tarball_inner_link': 'http://10.46.184.13:8071/download/npm_all_packages1/@dcl/crypto/3.4.4-20230725165920.commit-5493ed1/crypto-3.4.4-20230725165920.commit-5493ed1-ea358bd4a0e309748c1919c01edbc5d8f68c0ea0.tgz', 'tarball_link': 'https://registry.npmjs.org/@dcl/crypto/-/crypto-3.4.4-20230725165920.commit-5493ed1.tgz'}